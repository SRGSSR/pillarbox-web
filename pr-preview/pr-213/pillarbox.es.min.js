import e from"video.js";import"videojs-contrib-eme";const t=e.getComponent("player");var i=e.registerComponent("player",class extends t{audioTrack(e){const t=Array.from(this.player().audioTracks());if(!e)return t.find((e=>e.enabled));const{kind:i,language:a}=e,s=t.find((e=>e.language===a&&e.kind===i))||t.find((e=>e.language===a));return s&&(s.enabled=!0),s}textTrack(e){const t=Array.from(this.player().textTracks()).filter((e=>!["chapters","metadata"].includes(e.kind)));if(!e)return t.find((e=>"showing"===e.mode));t.forEach((e=>e.mode="disabled"));const{kind:i,language:a}=e;return t.find((e=>(e.language===a&&e.kind===i&&(e.mode="showing"),"showing"===e.mode)))||t.find((e=>(e.language===a&&(e.mode="showing"),"showing"===e.mode)))}});const a=e;a.VERSION={pillarbox:"1.0.1",videojs:e.VERSION,[e.VhsSourceHandler.name]:e.VhsSourceHandler.VERSION,eme:e.getPlugin("eme").VERSION},a.options.enableSmoothSeeking=!0,a.options.html5={vhs:{useForcedSubtitles:!0}},a.options.liveTracker={trackingThreshold:120,liveTolerance:15},a.options.liveui=!0,a.options.playsinline=!0,a.options.plugins={eme:!0},a.options.responsive=!0,a.options.trackers={};class s{findChapterByUrn(e){if(this.chapterList){const[t]=this.chapterList.filter((t=>t.urn===e));return t}}findMainSegment(){if(!this.segmentUrn)return;const e=this.getMainSegments(),[t]=e.filter((e=>e.urn===this.segmentUrn));return t}findResourceListByUrn(e){const t=this.findChapterByUrn(e);if(t)return t.resourceList||[]}getChapters(){return this.chapterList}getFilteredExternalSubtitles(){const{subtitleList:e}=this.getMainChapter(),[{subtitleInformationList:t}={}]=this.getResourceList().filter((({subtitleInformationList:e})=>e)),i=e&&!t;if(!e)return[];const a=e.filter((e=>"TTML"!==e.format));return i?a:a.filter((e=>!t.find((t=>t.locale===e.locale&&e.type===t.type))))}getMainBlockReason(){const e=this.getMainChapter();if(!e)return;let{blockReason:t}=e;return!t&&new Date<this.getMainValidFromDate()&&(t="STARTDATE"),t}getMainChapter(){return this.mainChapter||(this.mainChapter=this.findChapterByUrn(this.chapterUrn)),!this.mainChapter&&this.chapterList&&this.chapterList.length>0&&([this.mainChapter]=this.chapterList),this.mainChapter}getMainChapterImageUrl(){const e=this.getMainChapter();if(e&&e.imageUrl)return e.imageUrl}getMainResources(){const e=this.getResourceList();if(e&&e.length)return e.map((e=>({analyticsData:this.getMergedAnalyticsData(e.analyticsData),analyticsMetadata:this.getMergedAnalyticsMetadata(e.analyticsMetadata),blockReason:this.getMainChapter().blockReason,vendor:this.getMainChapter().vendor,drmList:e.drmList,dvr:e.dvr,eventData:this.getMainChapter().eventData,id:this.getMainChapter().id,imageCopyright:this.getMainChapter().imageCopyright,live:e.live,mediaType:this.getMainChapter().mediaType,mimeType:e.mimeType,presentation:e.presentation,quality:e.quality,streaming:e.streaming,streamOffset:e.streamOffset,tokenType:e.tokenType,url:e.url})))}getMainSegments(){const e=this.getMainChapter();return!this.mainSegments&&e&&e.segmentList&&(this.mainSegments=e.segmentList),this.mainSegments||[]}getMainValidFromDate(){const e=this.getMainChapter();if(!e)return new Date(0);const{validFrom:t}=e;return t?new Date(t):void 0}getMergedAnalyticsData(e){return{...this.analyticsData,...this.getMainChapter().analyticsData,...e}}getMergedAnalyticsMetadata(e){return{...this.analyticsMetadata,...this.getMainChapter().analyticsMetadata,...e}}getResourceList(){const{resourceList:e}=this.getMainChapter();return e||[]}}class r{constructor(e="il.srgssr.ch"){this.setIlHost(e)}setIlHost(e){this.baseUrl=`${e}/integrationlayer/2.1/`}async getMediaCompositionByUrn(e,t=!0){const i=`https://${this.baseUrl}mediaComposition/byUrn/${e}?onlyChapters=${t}&vector=portalplay`,a=await fetch(i);if(!a.ok)throw a;const r=await a.json();return{mediaComposition:Object.assign(new s,r,{onlyChapters:t})}}}const n="240",o="320",l="480",d="960",c="1920",u="jpg",p="webp",h="png";class g{static scale({url:e,width:t=d,format:i=u}={},a="https://il.srgssr.ch/images/"){if(!e)return;const s=new URL(a);return s.searchParams.set("imageUrl",e),s.searchParams.set("format",i),s.searchParams.set("width",t),decodeURIComponent(s.href)}static get JPG(){return u}static get PNG(){return h}static get WEBP(){return p}static get WIDTH_240(){return n}static get WIDTH_320(){return o}static get WIDTH_480(){return l}static get WIDTH_960(){return d}static get WIDTH_1920(){return c}}const m={WIDEVINE:"com.widevine.alpha",FAIRPLAY:"com.apple.fps.1_0",PLAYREADY:"com.microsoft.playready"};class f{static buildKeySystems(e=[]){const t={};return e.forEach((e=>{const i=f.vendors[e.type];if(f.vendors.FAIRPLAY===i){const{certificateUrl:a,licenseUrl:s}=e;t[i]={certificateUri:a,licenseUri:s}}else t[i]=e.licenseUrl})),{keySystems:t}}static hasDrm(e){return e.some((({drmList:e})=>e&&e.length>0))}static get vendors(){return m}}const b="AKAMAI",y="NONE";class T{static aclPath(e){const t=e.pathname;return`${t.substring(0,t.lastIndexOf("/")+1)}*`}static get AKAMAI(){return b}static hasToken(e){return e.some((e=>T.isAkamai(e.tokenType)))}static isAkamai(e){return b===e}static isNone(e){return y===e}static get NONE(){return y}static tokenize(e,t){const i=new URL(`${e.url}`),a=T.aclPath(i),s=`${t}${encodeURIComponent(a)}`;return fetch(s).then((e=>e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText}))).then((({token:{authparams:t}})=>(new URLSearchParams(t).forEach(((e,t)=>i.searchParams.set(t,e))),Object.assign({},e,{url:i.toString()})))).catch((e=>Promise.reject(e)))}static tokenizeSources(e,t="https://tp.srgssr.ch/akahd/token?acl="){const i=[];return e.forEach((e=>{const a=T.tokenize(e,t);i.push(a)})),Promise.all(i).then((e=>e)).catch((e=>Promise.reject(e)))}}const S="emptied",w="ended",v="loadeddata",k="loadstart",C="pause",P="play",E="playing",D="ratechange",A="seeking",L="timeupdate",M="waiting";class R{constructor(e,{debug:t=!1,environment:i="prod",playerVersion:a="none",tagCommanderScriptURL:s="//colibri-js.akamaized.net/penguin/tc_SRGGD_11.js"}={}){this.isDebugEnabled=t,this.elapsedPlaybackTime=0,this.environment=i,this.hasStarted=!1,this.heartBeatIntervalId=void 0,this.initialized=!1,this.isSeeking=!1,this.isWaiting=!1,this.mediaSession=0,this.pendingQueue=[],this.pendingTagCommanderReload=!1,this.player=e,this.playerVersion=a,this.srcMediaData=void 0,this.startPlaybackSession=0,this.tagCommanderScriptURL=s,this.trackedCurrentTime=0,this.uptimeIntervalId=void 0,this.initScript(),this.initListeners()}beforeunload(){this.notify("stop")}clearTimers(){clearInterval(this.heartBeatIntervalId),clearInterval(this.uptimeIntervalId),clearTimeout(this.uptimeTimeoutId)}currentTime(){return Math.round(this.trackedCurrentTime)}debug(e){if(void 0===e)return this.isDebugEnabled||this.player.debug();this.isDebugEnabled=Boolean(e)}destroy(){this.clearTimers(),window.tc_vars||(window.tc_vars={}),this.elapsedPlaybackTime=0,this.hasStarted=!1,this.heartBeatIntervalId=void 0,this.initialized=!1,this.isWaiting=!1,this.mediaSession=0,this.pendingQueue=[],this.srcMediaData=void 0,this.startPlaybackSession=0,this.trackedCurrentTime=0,this.uptimeIntervalId=void 0}dispose(){this.beforeunload(),this.clearTimers(),window.removeEventListener("beforeunload",this.beforeunloadListener),this.player.off(S,this.emptiedListener),this.player.off(w,this.endedListener),this.player.off(k,this.loadstartListener),this.player.off(v,this.loadeddataListener),this.player.off(E,this.playListener),this.player.off(C,this.pauseListener),this.player.off(D,this.rateChangeListener),this.player.off(A,this.seekingListener),this.player.off(L,this.timeUpdateListener),this.player.off(M,this.waitingListener)}emptied(){this.player.ended()||this.notify("stop")}ended(){this.notify("eof"),this.mediaSession=0,this.clearTimers()}flush(){this.isTrackerDisabled()||(this.pendingTagCommanderReload&&window.tC&&(window.tC.container.reload(),this.pendingTagCommanderReload=!1),window.tc_events_11&&this.pendingQueue.length>0&&(this.pendingQueue.forEach((e=>{window.tc_events_11(this.player.el(),e.action,e.labels)})),this.pendingQueue=[]))}getCurrentAudioTrack(){const e=Array.from(this.player.audioTracks()).find((e=>e.enabled));let t="und";return e&&e.language&&(t=e.language),e?t.toUpperCase():""}getCurrentTextTrack(){const e=this.player.textTrack();let t="und";return e&&e.language&&(t=e.language),e?t.toUpperCase():""}getDvrWindowPosition(){const{liveTracker:e}=this.player,t=this.currentTime()-e.seekableStart()|0,i=e.liveWindow()-t;return i<0||i===1/0?0:1e3*i}getDvrWindowSize(){const e=this.player.liveTracker.liveWindow()===1/0,t=1e3*this.player.liveTracker.liveWindow();return e?0:t}getElapsedPlaybackTime(){return this.startPlaybackSession?this.getElapsedPlayingTime():this.elapsedPlaybackTime}getElapsedPlayingTime(){const e=R.now()-this.startPlaybackSession|0;return this.elapsedPlaybackTime+e}getEventLabels(e){const t={event_id:e,event_timestamp:R.now(),media_dvr_window_length:0,media_dvr_window_offset:0,media_is_dvr:!1,media_is_live:!1,media_mute:this.player.muted()?"1":"0",media_playback_rate:this.player.playbackRate(),media_position:this.currentTime(),media_quality:this.srcMediaData.mediaData.quality,media_subtitles_on:this.isTextTrackEnabled(),media_volume:(100*this.player.volume()).toFixed(0),navigation_environment:this.environment};return this.isAudioTrackEnabled()&&(t.media_audio_track=this.getCurrentAudioTrack()),this.isTextTrackEnabled()&&(t.media_subtitle_selection=this.getCurrentTextTrack()),this.isMediaOnDemand()||(t.media_is_live=!0,t.media_position=this.getElapsedPlaybackTime()),this.isMediaDvr()&&(t.media_dvr_window_offset=0|this.getDvrWindowPosition(),t.media_dvr_window_length=0|this.getDvrWindowSize(),t.media_is_dvr=!0,t.media_timeshift=[P,C].includes(e)?this.timeShifted():0),t}getInternalLabels(){const e={media_bu_distributer:this.srcMediaData.mediaData.vendor,media_chromecast_selected:Boolean(this.player.tech(!0).isCasting),media_embedding_url:document.referrer,media_player_display:"default",media_player_name:"pillarbox-web",media_player_version:this.playerVersion,media_url:this.srcMediaData.src},t=this.srcMediaData.mediaData.analyticsMetadata||{};window.tc_vars=Object.assign({},window.tc_vars,e,t)}heartBeat(){this.heartBeatIntervalId=setInterval((()=>{this.player.paused()||this.notify("pos")}),3e4)}initCallbacks(){this.beforeunloadListener=this.beforeunload.bind(this),this.emptiedListener=this.emptied.bind(this),this.endedListener=this.ended.bind(this),this.loadstartListener=this.loadstart.bind(this),this.loadeddataListener=this.loadeddata.bind(this),this.playListener=this.play.bind(this),this.pauseListener=this.pause.bind(this),this.rateChangeListener=this.rateChange.bind(this),this.seekingListener=this.seeking.bind(this),this.timeUpdateListener=this.timeUpdate.bind(this),this.waitingListener=this.waiting.bind(this)}initListeners(){this.initCallbacks(),window.addEventListener("beforeunload",this.beforeunloadListener),this.player.on(S,this.emptiedListener),this.player.on(w,this.endedListener),this.player.on(k,this.loadstartListener),this.player.on(v,this.loadeddataListener),this.player.on(E,this.playListener),this.player.on(C,this.pauseListener),this.player.on(D,this.rateChangeListener),this.player.on(A,this.seekingListener),this.player.on(L,this.timeUpdateListener),this.player.on(M,this.waitingListener),this.player.one("dispose",this.dispose.bind(this))}initScript(){const e="tc_script__11";if(!document.querySelector(`#${e}`)){const t=document.createElement("script"),i=this.tagCommanderScriptURL;t.defer=!0,t.id=e,t.src=i,t.type="text/javascript",t.onload=e=>{this.flush()},document.body.appendChild(t)}}isAudioTrackEnabled(){return!!this.getCurrentAudioTrack()}isMediaDvr(){const{trackingThreshold:e}=this.player.liveTracker.options();return!this.isMediaOnDemand()&&e<this.player.liveTracker.liveWindow()}isMediaLive(){const{trackingThreshold:e}=this.player.liveTracker.options();return!this.isMediaOnDemand()&&e>this.player.liveTracker.liveWindow()}isMediaOnDemand(){return Number.isFinite(this.player.duration())}isTextTrackEnabled(){return!!this.getCurrentTextTrack()}isTrackerDisabled(){return!this.srcMediaData||!this.srcMediaData.mediaData||(Array.isArray(this.srcMediaData.disableTrackers)?Boolean(this.srcMediaData.disableTrackers.find((e=>e.toLowerCase()===R.name.toLowerCase()))):Boolean(this.srcMediaData.disableTrackers))}loadstart(){this.destroy(),this.updateSrcMediaData(this.player.currentSource()),this.isTrackerDisabled()||(this.getInternalLabels(),this.reloadTagCommanderContainer(),this.notify("buffer_start"),this.hasStarted=!1)}loadeddata(){this.notify("init"),this.initialized=!0,this.notify("buffer_stop")}log(e,t,i="log"){this.debug()&&console[i](`SRGAnalytics:${e}`,t,window.tc_vars)}notify(e,t){if(this.isTrackerDisabled())return;try{this.flush()}catch(t){this.log(e,t,"error")}const i=Object.assign({},this.getEventLabels(e),t);this.log(e,i);try{window.tc_events_11?window.tc_events_11(this.player.el(),e,i):this.pendingQueue.push({action:e,labels:i})}catch(t){this.log(e,t,"error")}}static now(){return(Date.now()/1e3).toFixed(0)}play(){this.hasStarted||(this.hasStarted=!0),this.startPlaybackSession||this.isMediaOnDemand()||(this.startPlaybackSession=R.now()),0===this.mediaSession&&(this.mediaSession=R.now(),this.heartBeat(),this.uptime()),this.timeUpdate(),this.notify("play"),this.isSeeking&&(this.isSeeking=!1)}pause(){this.isMediaOnDemand()||(this.elapsedPlaybackTime=this.getElapsedPlayingTime(),this.startPlaybackSession=0),!this.player.seeking()&&!this.isMediaLive()&&this.player.currentTime()<this.player.duration()?this.notify("pause"):this.hasStarted&&!this.isSeeking&&(this.notify("seek"),this.isSeeking=!0)}rateChange(){this.notify("change_playback_rate")}reloadTagCommanderContainer(){window.tC?(window.tC.container.reload(),this.pendingTagCommanderReload=!1):this.pendingTagCommanderReload=!0}seeking(){!this.hasStarted||this.player.paused()||this.isSeeking||(this.notify("seek"),this.isSeeking=!0)}timeUpdate(){this.player.paused()||(this.trackedCurrentTime=this.player.currentTime())}timeShifted(){const e=this.player.liveTracker.atLiveEdge(),t=this.player.liveTracker.liveCurrentTime(),i=this.player.currentTime();return e?0:(t-i).toFixed(0)}updateSrcMediaData(e){this.srcMediaData=e}uptime(){const e=()=>{this.player.paused()||this.isMediaOnDemand()||this.notify("uptime")};this.uptimeTimeoutId=setTimeout((()=>{e(),this.uptimeIntervalId=setInterval((()=>{e()}),6e4)}),3e4)}waiting(){if(!this.initialized||this.isWaiting)return;const e=()=>{this.isWaiting=!1,this.notify("buffer_stop")};this.isWaiting=!0,this.notify("buffer_start"),a.browser.IS_ANY_SAFARI?this.player.one(L,e):this.player.one(E,e)}}var I="Wiedergabe",_="Pause",B="Erneut abspielen",N="Dauer",O="LIVE",z="Geladen",U="Status",G="Vollbild",F="Stumm schalten",x="Ton einschalten",V="Untertitel",W="Untertitel",K="Kapitel",q="Schließen",j="Beschreibungen",Y="Schrift",Q="Weiß",H="Schwarz",$="Grün",Z="Blau",J="Gelb",X="Magenta",ee="Türkis",te="Hintergrund",ie="Fenster",ae="Durchsichtig",se="Undurchsichtig",re="Kein",ne="Erhoben",oe="Gedrückt",le="Uniform",de="Zwanglos",ce="Schreibschrift",ue="Zurücksetzen",pe="Fertig",he="Farbe",ge="Deckkraft",me={Play:I,Pause:_,Replay:B,"Current Time":"Aktueller Zeitpunkt",Duration:N,"Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:O,Loaded:z,Progress:U,Fullscreen:G,"Exit Fullscreen":"Vollbildmodus beenden",Mute:F,Unmute:x,"Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:V,"subtitles off":"Untertitel aus",Captions:W,"captions off":"Untertitel aus",Chapters:K,"You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterstützt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem beschädigten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterstützt werden, abgebrochen.","No compatible source was found for this media.":"Für dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:q,"Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Drücken der Esc-Taste bzw. Betätigung der Schaltfläche "Schließen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", öffnet Einstellungen für Untertitel",", opens subtitles settings dialog":", öffnet Einstellungen für Untertitel",", selected":", ausgewählt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen für Beschreibungen","Close Modal Dialog":"Modales Fenster schließen",Descriptions:j,"descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschlüsselungsschlüssel für den verschlüsselten Medieninhalt sind nicht verfügbar.",", opens descriptions settings dialog":", öffnet Einstellungen für Beschreibungen","Audio Track":"Tonspur",Text:Y,White:Q,Black:H,Red:"Rot",Green:$,Blue:Z,Yellow:J,Magenta:X,Cyan:ee,Background:te,Window:ie,Transparent:ae,"Semi-Transparent":"Halbdurchsichtig",Opaque:se,"Font Size":"Schriftgröße","Text Edge Style":"Textkantenstil",None:re,Raised:ne,Depressed:oe,Uniform:le,"Drop shadow":"Schlagschatten","Font Family":"Schriftfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:de,Script:ce,"Small Caps":"Small-Caps",Reset:ue,"restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zurücksetzen",Done:pe,"Caption Settings Dialog":"Einstellungsdialog für Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schließt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Fortschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautstärke","{1} is loading.":"{1} wird geladen.","Seek to live, currently behind live":"Zur Live-Übertragung wechseln. Aktuell wird es nicht live abgespielt.","Seek to live, currently playing live":"Zur Live-Übertragung wechseln. Es wird aktuell live abgespielt.","Exit Picture-in-Picture":"Bild-im-Bild-Modus beenden","Picture-in-Picture":"Bild-im-Bild-Modus","No content":"Kein Inhalt",Color:he,Opacity:ge,"Text Background":"Texthintergrund","Caption Area Background":"Hintergrund des Untertitelbereichs","Playing in Picture-in-Picture":"Wird im Bild-im-Bild-Modus wiedergegeben","Skip forward {1} seconds":"{1} Sekunden vorwärts","Skip backward {1} seconds":"{1} Sekunden zurück"},fe=Object.freeze({__proto__:null,Background:te,Black:H,Blue:Z,Captions:W,Casual:de,Chapters:K,Close:q,Color:he,Cyan:ee,Depressed:oe,Descriptions:j,Done:pe,Duration:N,Fullscreen:G,Green:$,LIVE:O,Loaded:z,Magenta:X,Mute:F,None:re,Opacity:ge,Opaque:se,Pause:_,Play:I,Progress:U,Raised:ne,Red:"Rot",Replay:B,Reset:ue,Script:ce,Subtitles:V,Text:Y,Transparent:ae,Uniform:le,Unmute:x,White:Q,Window:ie,Yellow:J,default:me}),be="Aus Gründen des Jugendschutzes steht dieser Inhalt nur zwischen 20:00 und 06:00 Uhr zur Verfügung.",ye="Aus Gründen des Jugendschutzes steht dieser Inhalt nur zwischen 23:00 und 05:00 Uhr zur Verfügung.",Te="Die Werbung wurde übersprungen.",Se="Dieser Inhalt ist nicht mehr verfügbar.",we="Dieser Inhalt ist ausserhalb der Schweiz nicht verfügbar.",ve="Dieser Inhalt ist aus rechtlichen Gründen nicht verfügbar.",ke="Dieser Inhalt ist noch nicht verfügbar. Bitte probieren Sie es später noch einmal.",Ce="Dieser Inhalt ist nicht verfügbar.",Pe={AGERATING12:be,AGERATING18:ye,COMMERCIAL:Te,ENDDATE:Se,GEOBLOCK:we,LEGAL:ve,STARTDATE:ke,UNKNOWN:Ce},Ee=Object.freeze({__proto__:null,AGERATING12:be,AGERATING18:ye,COMMERCIAL:Te,ENDDATE:Se,GEOBLOCK:we,LEGAL:ve,STARTDATE:ke,UNKNOWN:Ce,default:Pe});a.addLanguage("de",{...fe,...Ee});var De="Play",Ae="Pause",Le="Replay",Me="Duration",Re="LIVE",Ie="Loaded",_e="Progress",Be="Fullscreen",Ne="Mute",Oe="Unmute",ze="Subtitles",Ue="Captions",Ge="Chapters",Fe="Descriptions",xe="Close",Ve="Text",We="White",Ke="Black",qe="Green",je="Blue",Ye="Yellow",Qe="Magenta",He="Cyan",$e="Background",Ze="Window",Je="Transparent",Xe="Opaque",et="None",tt="Raised",it="Depressed",at="Uniform",st="Casual",rt="Script",nt="Reset",ot="Done",lt="Color",dt="Opacity",ct={"Audio Player":"Audio Player","Video Player":"Video Player",Play:De,Pause:Ae,Replay:Le,"Current Time":"Current Time",Duration:Me,"Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:Re,"Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live",Loaded:Ie,Progress:_e,"Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:Be,"Exit Fullscreen":"Exit Fullscreen",Mute:Ne,Unmute:Oe,"Playback Rate":"Playback Rate",Subtitles:ze,"subtitles off":"subtitles off",Captions:Ue,"captions off":"captions off",Chapters:Ge,Descriptions:Fe,"descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:xe,"Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings",Text:Ve,White:We,Black:Ke,Red:"Red",Green:qe,Blue:je,Yellow:Ye,Magenta:Qe,Cyan:He,Background:$e,Window:Ze,Transparent:Je,"Semi-Transparent":"Semi-Transparent",Opaque:Xe,"Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:et,Raised:tt,Depressed:it,Uniform:at,"Drop shadow":"Drop shadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:st,Script:rt,"Small Caps":"Small Caps",Reset:nt,"restore all settings to the default values":"restore all settings to the default values",Done:ot,"Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading.","Exit Picture-in-Picture":"Exit Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture","No content":"No content",Color:lt,Opacity:dt,"Text Background":"Text Background","Caption Area Background":"Caption Area Background","Playing in Picture-in-Picture":"Playing in Picture-in-Picture","Skip backward {1} seconds":"Skip backward {1} seconds","Skip forward {1} seconds":"Skip forward {1} seconds"},ut=Object.freeze({__proto__:null,Background:$e,Black:Ke,Blue:je,Captions:Ue,Casual:st,Chapters:Ge,Close:xe,Color:lt,Cyan:He,Depressed:it,Descriptions:Fe,Done:ot,Duration:Me,Fullscreen:Be,Green:qe,LIVE:Re,Loaded:Ie,Magenta:Qe,Mute:Ne,None:et,Opacity:dt,Opaque:Xe,Pause:Ae,Play:De,Progress:_e,Raised:tt,Red:"Red",Replay:Le,Reset:nt,Script:rt,Subtitles:ze,Text:Ve,Transparent:Je,Uniform:at,Unmute:Oe,White:We,Window:Ze,Yellow:Ye,default:ct}),pt="To protect children this content is only available between 8PM and 6AM.",ht="To protect children this content is only available between 10PM and 5AM.",gt="This commercial content is not available.",mt="This content is not available anymore.",ft="This content is not available outside Switzerland.",bt="This content is not available due to legal restrictions.",yt="This content is not available yet.",Tt="This content is not available.",St={AGERATING12:pt,AGERATING18:ht,COMMERCIAL:gt,ENDDATE:mt,GEOBLOCK:ft,LEGAL:bt,STARTDATE:yt,UNKNOWN:Tt},wt=Object.freeze({__proto__:null,AGERATING12:pt,AGERATING18:ht,COMMERCIAL:gt,ENDDATE:mt,GEOBLOCK:ft,LEGAL:bt,STARTDATE:yt,UNKNOWN:Tt,default:St});a.addLanguage("en",{...ut,...wt});var vt="Lecture",kt="Pause",Ct="Revoir",Pt="Durée",Et="EN DIRECT",Dt="Chargé",At="Progression",Lt="Plein écran",Mt="Mettre en sourdine",Rt="Activer le son",It="Sous-titres",_t="Sous-titres transcrits",Bt="Chapitres",Nt="Descriptions",Ot="Fermer",zt="Texte",Ut="Blanc",Gt="Noir",Ft="Rouge",xt="Vert",Vt="Bleu",Wt="Jaune",Kt="Magenta",qt="Cyan",jt="Arrière-plan",Yt="Fenêtre",Qt="Transparent",Ht="Opaque",$t="Aucun",Zt="Élevé",Jt="Enfoncé",Xt="Uniforme",ei="Manuscrite",ti="Scripte",ii="Réinitialiser",ai="Terminé",si="Couleur",ri="Opacité",ni={"Audio Player":"Lecteur audio","Video Player":"Lecteur vidéo",Play:vt,Pause:kt,Replay:Ct,"Current Time":"Temps actuel",Duration:Pt,"Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:Et,"Seek to live, currently behind live":"Rechercher le direct, actuellement après le direct","Seek to live, currently playing live":"Rechercher le direct, le direct actuellement en cours de lecture",Loaded:Dt,Progress:At,"Progress Bar":"Barre de progression","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Fullscreen:Lt,"Exit Fullscreen":"Fenêtré",Mute:Mt,Unmute:Rt,"Playback Rate":"Vitesse de lecture",Subtitles:It,"subtitles off":"Sous-titres désactivés",Captions:_t,"captions off":"Sous-titres transcrits désactivés",Chapters:Bt,Descriptions:Nt,"descriptions off":"descriptions désactivées","Audio Track":"Piste audio","Volume Level":"Niveau de volume","You aborted the media playback":"Vous avez interrompu la lecture de la vidéo.","A network error caused the media download to fail part-way.":"Une erreur de réseau a interrompu le téléchargement de la vidéo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Cette vidéo n'a pas pu être chargée, soit parce que le serveur ou le réseau a échoué ou parce que le format n'est pas reconnu.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lecture de la vidéo a été interrompue à cause d'un problème de corruption ou parce que la vidéo utilise des fonctionnalités non prises en charge par votre navigateur.","No compatible source was found for this media.":"Aucune source compatible n'a été trouvée pour cette vidéo.","The media is encrypted and we do not have the keys to decrypt it.":"Le média est chiffré et nous n'avons pas les clés pour le déchiffrer.","Play Video":"Lire la vidéo",Close:Ot,"Close Modal Dialog":"Fermer la boîte de dialogue modale","Modal Window":"Fenêtre modale","This is a modal window":"Ceci est une fenêtre modale","This modal can be closed by pressing the Escape key or activating the close button.":"Ce modal peut être fermé en appuyant sur la touche Échap ou activer le bouton de fermeture.",", opens captions settings dialog":", ouvrir les paramètres des sous-titres transcrits",", opens subtitles settings dialog":", ouvrir les paramètres des sous-titres",", opens descriptions settings dialog":", ouvrir les paramètres des descriptions",", selected":", sélectionné","captions settings":"Paramètres des sous-titres transcrits","subtitles settings":"Paramètres des sous-titres","descriptions settings":"Paramètres des descriptions",Text:zt,White:Ut,Black:Gt,Red:Ft,Green:xt,Blue:Vt,Yellow:Wt,Magenta:Kt,Cyan:qt,Background:jt,Window:Yt,Transparent:Qt,"Semi-Transparent":"Semi-transparent",Opaque:Ht,"Font Size":"Taille des caractères","Text Edge Style":"Style des contours du texte",None:$t,Raised:Zt,Depressed:Jt,Uniform:Xt,"Drop shadow":"Ombre portée","Font Family":"Famille de polices","Proportional Sans-Serif":"Polices à chasse variable sans empattement (Proportional Sans-Serif)","Monospace Sans-Serif":"Polices à chasse fixe sans empattement (Monospace Sans-Serif)","Proportional Serif":"Polices à chasse variable avec empattement (Proportional Serif)","Monospace Serif":"Polices à chasse fixe avec empattement (Monospace Serif)",Casual:ei,Script:ti,"Small Caps":"Petites capitales",Reset:ii,"restore all settings to the default values":"Restaurer tous les paramètres aux valeurs par défaut",Done:ai,"Caption Settings Dialog":"Boîte de dialogue des paramètres des sous-titres transcrits","Beginning of dialog window. Escape will cancel and close the window.":"Début de la fenêtre de dialogue. La touche d'échappement annulera et fermera la fenêtre.","End of dialog window.":"Fin de la fenêtre de dialogue.","Exit Picture-in-Picture":"Quitter le mode image dans l'image","Picture-in-Picture":"Image dans l'image","{1} is loading.":"{1} en cours de chargement.","No content":"Aucun contenu",Color:si,Opacity:ri,"Text Background":"Arrière-plan du texte","Caption Area Background":"Arrière-plan de la zone de sous-titre","Skip backward {1} seconds":"Reculer de {1} secondes","Skip forward {1} seconds":"Avancer de {1} secondes"},oi=Object.freeze({__proto__:null,Background:jt,Black:Gt,Blue:Vt,Captions:_t,Casual:ei,Chapters:Bt,Close:Ot,Color:si,Cyan:qt,Depressed:Jt,Descriptions:Nt,Done:ai,Duration:Pt,Fullscreen:Lt,Green:xt,LIVE:Et,Loaded:Dt,Magenta:Kt,Mute:Mt,None:$t,Opacity:ri,Opaque:Ht,Pause:kt,Play:vt,Progress:At,Raised:Zt,Red:Ft,Replay:Ct,Reset:ii,Script:ti,Subtitles:It,Text:zt,Transparent:Qt,Uniform:Xt,Unmute:Rt,White:Ut,Window:Yt,Yellow:Wt,default:ni}),li="Pour protéger les enfants, ce contenu est accessible entre 20h et 6h.",di="Pour protéger les enfants, ce contenu est accessible entre 23h et 5h.",ci="Ce contenu n'est actuellement pas disponible.",ui="Ce contenu n'est plus disponible.",pi="La RTS ne dispose pas des droits de diffusion en dehors de la Suisse.",hi="Pour des raisons juridiques, ce contenu n'est pas disponible.",gi="Ce contenu n'est pas encore disponible. Veuillez réessayer plus tard.",mi="Ce contenu n'est actuellement pas disponible.",fi={AGERATING12:li,AGERATING18:di,COMMERCIAL:ci,ENDDATE:ui,GEOBLOCK:pi,LEGAL:hi,STARTDATE:gi,UNKNOWN:mi},bi=Object.freeze({__proto__:null,AGERATING12:li,AGERATING18:di,COMMERCIAL:ci,ENDDATE:ui,GEOBLOCK:pi,LEGAL:hi,STARTDATE:gi,UNKNOWN:mi,default:fi});a.addLanguage("fr",{...oi,...bi});var yi="Play",Ti="Pausa",Si="Replay",wi="Durata",vi="LIVE",ki="Caricato",Ci="Stato",Pi="Schermo intero",Ei="Disattiva l’audio",Di="Attiva l’audio",Ai="Sottotitoli",Li="Sottotitoli non udenti",Mi="Capitolo",Ri="Descrizioni",Ii="Chiudi",_i="Testo",Bi="Bianco",Ni="Nero",Oi="Rosso",zi="Verde",Ui="Giallo",Gi="Magenta",Fi="Ciano",xi="Sfondo",Vi="Finestra",Wi="Trasparente",Ki="Opaco",qi="Nessuno",ji="Uniforme",Yi="Reinizializza",Qi="Fatto",Hi="Colore",$i="Opacità",Zi={"Audio Player":"Lettore audio","Video Player":"Lettore video",Play:yi,Pause:Ti,Replay:Si,"Current Time":"Orario attuale",Duration:wi,"Remaining Time":"Tempo rimanente","Stream Type":"Tipo di streaming",LIVE:vi,Loaded:ki,Progress:Ci,"Progress Bar":"Barra di avanzamento","progress bar timing: currentTime={1} duration={2}":"{1} di {2}",Fullscreen:Pi,"Exit Fullscreen":"Chiudi Schermo intero",Mute:Ei,Unmute:Di,"Playback Rate":"Velocità di riproduzione",Subtitles:Ai,"subtitles off":"Senza sottotitoli",Captions:Li,"captions off":"Senza sottotitoli non udenti",Chapters:Mi,Descriptions:Ri,"descriptions off":"Descrizioni disattivate","Audio Track":"Traccia audio","Volume Level":"Livello del volume","You aborted the media playback":"La riproduzione del contenuto multimediale è stata interrotta.","A network error caused the media download to fail part-way.":"Il download del contenuto multimediale è stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il contenuto multimediale non può essere caricato a causa di un errore nel server o nella rete o perché il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del contenuto multimediale è stata interrotta a causa di un file danneggiato o per l’utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo contenuto multimediale.","The media is encrypted and we do not have the keys to decrypt it.":"Il contenuto multimediale è criptato e non disponiamo delle chiavi per decifrarlo.","Play Video":"Riproduci il video",Close:Ii,"Close Modal Dialog":"Chiudi la finestra di dialogo","Modal Window":"Finestra di dialogo","This is a modal window":"Questa è una finestra di dialogo","This modal can be closed by pressing the Escape key or activating the close button.":"Questa finestra di dialogo può essere chiusa premendo sul tasto Esc o attivando il pulsante di chiusura.",", opens captions settings dialog":", aprire i parametri della trascrizione dei sottotitoli",", opens subtitles settings dialog":", aprire i parametri dei sottotitoli",", opens descriptions settings dialog":", aprire i parametri delle descrizioni",", selected":", selezionato","captions settings":"Parametri sottotitoli non udenti","subtitles settings":"Parametri sottotitoli","descriptions settings":"Parametri descrizioni",Text:_i,White:Bi,Black:Ni,Red:Oi,Green:zi,Blue:"Blu",Yellow:Ui,Magenta:Gi,Cyan:Fi,Background:xi,Window:Vi,Transparent:Wi,"Semi-Transparent":"Semi-Trasparente",Opaque:Ki,"Font Size":"Dimensione dei caratteri","Text Edge Style":"Stile dei bordi del testo",None:qi,Uniform:ji,"Drop shadow":"Ombra","Font Family":"Carattere","Proportional Sans-Serif":"Sans-Serif proporzionale","Monospace Sans-Serif":"Sans-Serif monospaziato","Proportional Serif":"Serif proporzionale","Monospace Serif":"Serif monospaziato","Small Caps":"Maiuscoletto",Reset:Yi,"restore all settings to the default values":"Ripristina i valori predefiniti per tutti i parametri",Done:Qi,"Caption Settings Dialog":"Finestra di dialogo dei parametri della trascrizione dei sottotitoli","Beginning of dialog window. Escape will cancel and close the window.":"Inizio della finestra di dialogo. Il tasto Esc annullerà l’operazione e chiuderà la finestra.","End of dialog window.":"Fine della finestra di dialogo.","{1} is loading.":"{1} in fase di caricamento.","Exit Picture-in-Picture":"Esci dalla modalità Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture",Color:Hi,Opacity:$i,"Text Background":"Sfondo testo","Caption Area Background":"Sfondo area sottotitoli","Skip forward {1} seconds":"Avanti {1} secondi","Skip backward {1} seconds":"Indietro {1} secondi"},Ji=Object.freeze({__proto__:null,Background:xi,Black:Ni,Blue:"Blu",Captions:Li,Chapters:Mi,Close:Ii,Color:Hi,Cyan:Fi,Descriptions:Ri,Done:Qi,Duration:wi,Fullscreen:Pi,Green:zi,LIVE:vi,Loaded:ki,Magenta:Gi,Mute:Ei,None:qi,Opacity:$i,Opaque:Ki,Pause:Ti,Play:yi,Progress:Ci,Red:Oi,Replay:Si,Reset:Yi,Subtitles:Ai,Text:_i,Transparent:Wi,Uniform:ji,Unmute:Di,White:Bi,Window:Vi,Yellow:Ui,default:Zi}),Xi="Per proteggere i bambini, questo media è disponibile solo fra le 20 e le 6.",ea="Per proteggere i bambini, questo media è disponibile solo fra le 23 le 5.",ta="Questo contenuto commerciale non è disponibile.",ia="Questo media non è più disponibile.",aa="Questo media non è disponibile fuori dalla Svizzera.",sa="Il contenuto non è fruibile a causa di restrizioni legali.",ra="Il contenuto non è ancora disponibile. Per cortesia prova più tardi.",na="Questo media non è disponibile.",oa={AGERATING12:Xi,AGERATING18:ea,COMMERCIAL:ta,ENDDATE:ia,GEOBLOCK:aa,LEGAL:sa,STARTDATE:ra,UNKNOWN:na},la=Object.freeze({__proto__:null,AGERATING12:Xi,AGERATING18:ea,COMMERCIAL:ta,ENDDATE:ia,GEOBLOCK:aa,LEGAL:sa,STARTDATE:ra,UNKNOWN:na,default:oa});a.addLanguage("it",{...Ji,...la});var da="Laschar ir",ca="Pausa",ua="Mussar danovamain",pa="Durada",ha="LIVE",ga="Chargià",ma="Progress",fa="Entir visur",ba="Senza tun",ya="Cun tun",Ta="Suttitels",Sa="Suttitels",wa="Chapitels",va="Descripziuns",ka="Serrar",Ca="Text",Pa="Nair",Ea="Cotschn",Da="Verd",Aa="Blau",La="Mellen",Ma="Magenta",Ra="Cyan",Ia="Fund",_a="Fanestra",Ba="Transparent",Na="Betg transparent",Oa="Nagin",za="Auzà",Ua="Sbassà",Ga="Uniform",Fa="Sumbriva",xa="Casual",Va="Script",Wa="Da nov",Ka="Fatg",qa="Per proteger uffants, è quest cuntegn disponibel mo tranter las 20.00 e las 06.00.",ja="Per proteger uffants, è quest cuntegn disponibel mo tranter las 23.00 e las 05.00.",Ya="Quest medium commerzial n'è betg disponibel.",Qa="Quest cuntegn n'è betg pli disponibel.",Ha="Quest cuntegn n'è betg disponibel ordaifer la Svizra.",$a="Quest cuntegn n'è betg disponibel perquai ch'el è scadì.",Za="Quest cuntegn n'è betg anc disponibel. Empruvai pli tard.",Ja="Quest cuntegn n'è betg disponibel.",Xa={"Audio Player":"Audio-Player","Video Player":"Video-Player",Play:da,Pause:ca,Replay:ua,"Current Time":"Temp actual",Duration:pa,"Remaining Time":"Temp restant","Stream Type":"Tip dal stream",LIVE:ha,Loaded:ga,Progress:ma,"Progress Bar":"Bar da progessiun","progress bar timing: currentTime={1} duration={2}":"{1} da {2}",Fullscreen:fa,"Non-Fullscreen":"Betg entir visur",Mute:ba,Unmute:ya,"Playback Rate":"Tempo ",Subtitles:Ta,"subtitles off":"senza suttitels",Captions:Sa,"captions off":"senza suttitels",Chapters:wa,Descriptions:va,"descriptions off":"senza descripziuns","Audio Track":"Piese audio","Volume Level":"Nivel dal volumen","You aborted the media playback":"Vus avais interrut il vdieo","A network error caused the media download to fail part-way.":"In sbagl en la rait ha impedì il download","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il video n'è betg chargià - ubain per in sbagl da server / da la rait, ubain ch'il format n'è betg cumpatibel.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Il video è interrut: Ubain ch'il video è donnegià, ubain che funcziuns n'èn betg cumpatiblas.","No compatible source was found for this media.":"Chattà nagina funtauna cumpatibla per quest video.","The media is encrypted and we do not have the keys to decrypt it.":"Il video è codifitgà da moda nunenconuschenta.","Play Video":"Aviar video",Close:ka,"Close Modal Dialog":"Serrar la fanestra modala","Modal Window":"Fanestra modala","This is a modal window":"Quai è ina fanestra modala","This modal can be closed by pressing the Escape key or activating the close button.":'Questa fanestra modala pudais serrar cun la tasta "Escape" ubain cun il buttun.',", opens captions settings dialog":", avra opziuns per ils suttitels",", opens subtitles settings dialog":", avra opziuns per ils suttitels",", opens descriptions settings dialog":", avra opziuns per la descripziun",", selected":", selecziunà","captions settings":"opziuns per ils suttitels","subtitles settings":"opziuns per ils suttitels","descriptions settings":"opziuns per la descripziun",Text:Ca,White:"Alv",Black:Pa,Red:Ea,Green:Da,Blue:Aa,Yellow:La,Magenta:Ma,Cyan:Ra,Background:Ia,Window:_a,Transparent:Ba,"Semi-Transparent":"Mez transparent",Opaque:Na,"Font Size":"Grandezza dal text","Text Edge Style":"Stil dal text",None:Oa,Raised:za,Depressed:Ua,Uniform:Ga,Dropshadow:Fa,"Font Family":"Scrittira","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:xa,Script:Va,"Small Caps":"Bustabs pitschens",Reset:Wa,"restore all settings to the default values":"Enavos tar las opziuns da standard",Done:Ka,"Caption Settings Dialog":"Opziuns per suttitels","Beginning of dialog window. Escape will cancel and close the window.":"Entschatta da la fanestra da dialog. Escape stizza e serra la fanestra.","End of dialog window.":"Fin da la fanestra da dialog.",AGERATING12:qa,AGERATING18:ja,COMMERCIAL:Ya,ENDDATE:Qa,GEOBLOCK:Ha,LEGAL:$a,STARTDATE:Za,UNKNOWN:Ja},es=Object.freeze({__proto__:null,AGERATING12:qa,AGERATING18:ja,Background:Ia,Black:Pa,Blue:Aa,COMMERCIAL:Ya,Captions:Sa,Casual:xa,Chapters:wa,Close:ka,Cyan:Ra,Depressed:Ua,Descriptions:va,Done:Ka,Dropshadow:Fa,Duration:pa,ENDDATE:Qa,Fullscreen:fa,GEOBLOCK:Ha,Green:Da,LEGAL:$a,LIVE:ha,Loaded:ga,Magenta:Ma,Mute:ba,None:Oa,Opaque:Na,Pause:ca,Play:da,Progress:ma,Raised:za,Red:Ea,Replay:ua,Reset:Wa,STARTDATE:Za,Script:Va,Subtitles:Ta,Text:Ca,Transparent:Ba,UNKNOWN:Ja,Uniform:Ga,Unmute:ya,White:"Alv",Window:_a,Yellow:La,default:Xa});a.addLanguage("rm",{...es});class ts{static blockingReason(e,t,i){if(!t)return;const a=e.localize(t);return ts.error(e,{code:MediaError.MEDIA_ERR_ABORTED,message:a,metadata:{errorType:t,src:i}}),!0}static async composeAkamaiResources(e=[]){return T.hasToken(e)?T.tokenizeSources(e):Promise.resolve(e)}static composeKeySystemsResources(e=[]){return f.hasDrm(e),e.map((e=>({...e,...f.buildKeySystems(e.drmList)})))}static composeMainResources(e){return ts.composeAkamaiResources(ts.composeKeySystemsResources(ts.filterIncompatibleResources(e.getMainResources())))}static composeSrcMediaData({mediaData:e,disableTrackers:t},{url:i,mimeType:s,keySystems:r,...n}){return{src:i,type:s,keySystems:r,disableTrackers:t,mediaData:a.obj.merge(n,e)}}static dataProvider(e){if(!e.options().srgOptions.dataProvider){const{dataProviderHost:t}=e.options().srgOptions,i=new r(t);e.options({srgOptions:{dataProvider:i}})}return e.options().srgOptions.dataProvider}static dataProviderError(e,t){if(t.url&&t.url.includes(ts.dataProvider(e).baseUrl))return ts.error(e,{code:0,message:e.localize("UNKNOWN"),metadata:{errorType:"UNKNOWN",urn:e.src(),status:t.status,statusText:t.statusText,url:t.url}}),!0}static error(e,{code:t,message:i,metadata:a}){e.error(null),e.error({code:t,message:i,metadata:a})}static filterIncompatibleResources(e=[]){return e.filter((e=>!["RTMP","HDS"].includes(e.streaming)))}static async getMediaComposition(e,t=new r){return t.getMediaCompositionByUrn(e)}static getMediaData(e=[]){if(T.hasToken(e))return e[0];const t=a.browser.IS_ANY_SAFARI?"HLS":"DASH";return e.find((({streaming:e})=>e===t))||e[0]}static srgAnalytics(e){if(!1!==e.options().trackers.srgAnalytics&&!e.options().trackers.srgAnalytics){const t=new R(e,{debug:e.debug(),playerVersion:a.VERSION.pillarbox,tagCommanderScriptURL:e.options().srgOptions.tagCommanderScriptURL});e.options({trackers:{srgAnalytics:t}})}}static updatePoster(e,t,i=g){e.poster(i.scale({url:t.getMainChapterImageUrl()}))}static updateTitleBar(e,t){e.titleBar&&e.titleBar.update({title:t.getMainChapter().vendor,description:t.getMainChapter().title})}static middleware(e,t=g){return{setSource:async(i,a)=>{try{const{src:s,...r}=i,{mediaComposition:n}=await ts.getMediaComposition(s,ts.dataProvider(e)),o=await ts.composeMainResources(n),l=ts.getMediaData(o),d=ts.composeSrcMediaData(r,l);if(ts.srgAnalytics(e),ts.updateTitleBar(e,n),ts.updatePoster(e,n,t),ts.blockingReason(e,l.blockReason,d))return;return a(null,d)}catch(t){if(ts.dataProviderError(e,t))return;return a(t)}}}}}a.use("srgssr/urn",ts.middleware),a.options.srgOptions={dataProviderHost:void 0,tagCommanderScriptURL:void 0};export{i as Player,ts as SrgSsr,a as default};
//# sourceMappingURL=pillarbox.es.min.js.map
